# Документация тестового задания: Список элементов

Этот документ описывает функционал приложения и предоставляет инструкции по его запуску.

## Что делает приложение

Приложение представляет собой интерактивный список элементов (чисел от 1 до 1 000 000), который обладает следующим функционалом:

- **Отображение списка:** Элементы выводятся в виде списка или таблицы.
- **Выбор элементов:** Каждая строка имеет чекбокс для индивидуального или множественного выбора.
- **Фильтрация (поиск):** Предусмотрено поле поиска для фильтрации элементов по их значению. Результаты поиска также пагинируются.
- **Сортировка (Drag & Drop):** Элементы в списке можно перетаскивать (Drag & Drop) для изменения их порядка.
- **Бесконечный скролл (пагинация):** При большом количестве элементов (более 20) они подгружаются порциями по 20 штук при прокрутке.
- **Сохранение состояния:** Выбранные элементы и порядок сортировки (для начальных 20 элементов) сохраняются на сервере и восстанавливаются при перезагрузке страницы. Данные хранятся в памяти сервера и не сохраняются при его перезапуске.
- **Сортировка отфильтрованного результата:** При поиске, сортировка Drag&Drop применяется к текущим отфильтрованным результатам.

---

## Как запустить приложение

Для запуска приложения вам потребуются Node.js и npm (или Yarn/pnpm).

### 1. Запуск бэкенда (сервера Express.js)

Бэкенд отвечает за генерацию и хранение данных, а также за обработку запросов на пагинацию, поиск, сохранение выбора и порядка сортировки.

Перейдите в директорию бэкенда:

```sh
cd path/to/my-test-app-backend
```

Установите зависимости:

```sh
npm install
```

Скомпилируйте TypeScript код:

```sh
npx tsc
```

Эта команда скомпилирует исходные файлы TypeScript (.ts) в JavaScript (.js) в папке dist.

Запустите сервер:

```sh
node dist/server.js
```

Вы увидите сообщение в консоли, указывающее, на каком порту запущен сервер (по умолчанию http://localhost:5000). Оставьте этот терминал открытым, пока работаете с приложением, так как при закрытии сервера данные в памяти сбросятся.

### 2. Запуск фронтенда (приложения React/Vite)

Фронтенд представляет собой пользовательский интерфейс, который взаимодействует с бэкендом.

Перейдите в директорию фронтенда:

```sh
cd path/to/my-test-app
```

Установите зависимости:

```sh
npm install
```

Запустите приложение React:

```sh
npm run dev
```

Эта команда запустит приложение в режиме разработки. Оно автоматически откроется в вашем браузере (обычно по адресу http://localhost:5173).

### 3. Тестирование

- Убедитесь, что оба сервера (бэкенд и фронтенд) запущены и работают без ошибок в консоли.
- Откройте приложение в браузере.
- Попробуйте выбирать элементы, использовать поиск, прокручивать список, чтобы подгрузить новые элементы, и перетаскивать строки для изменения порядка.
- Чтобы проверить сохранение состояния при перезагрузке: выберите несколько элементов, отсортируйте их с помощью Drag & Drop (переместите первые 20 элементов) и затем обновите страницу в браузере (F5 или Ctrl+R / Cmd+R). Выбранные элементы должны остаться выбранными, а первые 20 элементов — в том порядке, в котором вы их отсортировали.

> **Важное замечание:** Если вы перезапустите бэкенд, все сохраненные состояния (выбор и порядок) будут сброшены, так как они хранятся в памяти.

Рабочее приложение можно посмотреть по адресу: https://leoprolder.github.io/drag-n-drop-table/
